<!-- ================= bonus.html ================= -->
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ë–æ–Ω—É—Å—ã ‚Äî CS2 RENT</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="header">
  <div class="logo">CS2 RENT</div>
  <nav class="nav">
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="rent.html">–ê—Ä–µ–Ω–¥–∞</a>
    <a href="bonus.html" class="active">–ë–æ–Ω—É—Å—ã</a>
    <a href="info.html">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a>
  </nav>  
</header>

<main class="container">
  <h1 class="title">–ü–æ–ª–æ—Å–∫–∞ —Å–∫–∏–¥–æ–∫</h1>

  <div class="slot-wrapper">
    <div class="slot-pointer"></div>
    <div id="slotLine" class="slot-line"></div>
  </div>

  <button id="spinBtn" class="spin-btn">–ö—Ä—É—Ç–∏—Ç—å</button>
  <div id="result" class="result"></div>
</main>

<script>
const items = [
  { label: '5%', chance: 35 },
  { label: '10%', chance: 25 },
  { label: '15%', chance: 18 },
  { label: '20%', chance: 12 },
  { label: '25%', chance: 8 },
  { label: '50%', chance: 2 }
];

const slotLine = document.getElementById('slotLine');
const spinBtn = document.getElementById('spinBtn');
const result = document.getElementById('result');

// –ü–æ–ª—É—á–∞–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ø–∏–Ω–∞ –∏–∑ localStorage
let lastSpin = localStorage.getItem('roulette_lastSpin');
let now = Date.now();
const hours48 = 48 * 60 * 60 * 1000; // 48 —á–∞—Å–æ–≤ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

if (lastSpin && now - lastSpin < hours48) {
  // –ï—Å–ª–∏ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ø–∏–Ω–∞ –ø—Ä–æ—à–ª–æ –º–µ–Ω—å—à–µ 48 —á–∞—Å–æ–≤
  spinBtn.disabled = true;
  spinBtn.textContent = '–î–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤';
  result.textContent = 'üéâ –¢–≤–æ—è —Å–∫–∏–¥–∫–∞: ' + localStorage.getItem('roulette_win');
}

// –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä—É–ª–µ—Ç–∫–∏
let sequence = [];
items.forEach(item => {
  for (let i = 0; i < item.chance; i++) sequence.push(item.label);
});
sequence = sequence.concat(sequence, sequence);

sequence.forEach(label => {
  const el = document.createElement('div');
  el.className = 'slot-item';
  el.textContent = label;
  slotLine.appendChild(el);
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏
spinBtn.addEventListener('click', () => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–∞–π–º–µ—Ä
  if (lastSpin && now - lastSpin < hours48) return;

  spinBtn.disabled = true;

  const index = Math.floor(Math.random() * sequence.length);
  const itemWidth = 132;
  const offset = index * itemWidth;

  slotLine.style.transform = `translateX(-${offset}px)`;

  setTimeout(() => {
    const win = sequence[index];
    result.textContent = `üéâ –¢–≤–æ—è —Å–∫–∏–¥–∫–∞: ${win}`;

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ø–∏–Ω–∞
    localStorage.setItem('roulette_lastSpin', Date.now());
    localStorage.setItem('roulette_win', win);
  }, 4500);
});

</script>

</body>
</html>




