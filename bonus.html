
<!-- ================= bonus.html ================= -->
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ë–æ–Ω—É—Å—ã ‚Äî CS2 RENT</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="logo">CS2 RENT</div>
  <nav>
    <a href="Main.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="rent.html">–ê—Ä–µ–Ω–¥–∞</a>
    <a href="bonus.html">–ë–æ–Ω—É—Å—ã</a>
  </nav>
</header>

<main>
  <h2 class="section-title">–†—É–ª–µ—Ç–∫–∞ —Å–∫–∏–¥–æ–∫</h2>

  <div class="roulette-wrapper">
    <div class="pointer"></div>
    <div id="roulette" class="roulette">
      <span>5%</span>
      <span>10%</span>
      <span>15%</span>
      <span>20%</span>
      <span>25%</span>
      <span>50%</span>
    </div>
  </div>

  <button id="spinBtn" class="spin-btn">–ö—Ä—É—Ç–∏—Ç—å</button>
  <p id="result" class="result"></p>
</main>

<script>
let spinning = false;
const spinBtn = document.getElementById('spinBtn');
const roulette = document.getElementById('roulette');
const result = document.getElementById('result');
const prizes = [
  { label: '5%',  chance: 35 },
  { label: '10%', chance: 25 },
  { label: '15%', chance: 18 },
  { label: '20%', chance: 12 },
  { label: '25%', chance: 8 },
  { label: '50%', chance: 2 }
];

const savedWin = localStorage.getItem('roulette_win');
if (savedWin) {
  result.textContent = `üéâ –¢–≤–æ—è —Å–∫–∏–¥–∫–∞: ${savedWin}`;
  spinBtn.disabled = true;
  spinBtn.textContent = '–£–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ';
}

spinBtn.addEventListener('click', () => {
  if (spinning || savedWin) return;
  spinning = true;

  const sector = 360 / prizes.length;

// –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π —Ä–∞–Ω–¥–æ–º
const rand = Math.random() * 100;
let cumulative = 0;
let index = 0;

for (let i = 0; i < prizes.length; i++) {
  cumulative += prizes[i].chance;
  if (rand <= cumulative) {
    index = i;
    break;
  }
}

const angle = 360 * 8 + index * sector + sector / 2;

  roulette.style.transform = `rotate(${angle}deg)`;

  setTimeout(() => {
    const win = prizes[index].label;
    result.textContent = `üéâ –¢–≤–æ—è —Å–∫–∏–¥–∫–∞: ${win}`;
    localStorage.setItem('roulette_win', win);
    spinBtn.disabled = true;
    spinBtn.textContent = '–£–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ';
    spinning = false;
  }, 5000);
});
</script>
</body>
</html>

